# 渲染流程三：布局树生成阶段

有 DOM 树和 DOM 树中元素的样式，但这还不足以显示页面，因为我们还不知道 DOM 元素的几何位置信息。

那么接下来就**需要计算出 DOM 树中可见元素的几何位置，我们把这个计算过程叫做布局。**



## 1. 创建布局树

在显示之前，还要额外地构建一棵只包含可见元素布局树。

**布局树只包含可见元素布局树。DOM 树中所有不可见的节点都没有包含到布局树中。**

**输入**：**DOM 树**和、DOM 树中元素的**样式**

**输出**：布局树

**参与**：渲染主线程

**流程**：

- 遍历 DOM 树中的所有可见节点，并把这些节点加到布局树中

- 而不可见的节点会被布局树忽略掉，如：head中得全部内容，dispaly为node的元素

## 2 布局计算

**输入**：布局树

**输出**：布局树

**参与**：渲染主线程

有了一棵完整的布局树。那么接下来，就要**计算布局树节点的坐标位置了**。

在执行布局操作的时候，会把**布局运算的结果重新写回布局树中**













































